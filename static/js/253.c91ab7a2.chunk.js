"use strict";(self.webpackChunkcare_track=self.webpackChunkcare_track||[]).push([[253],{4418:(e,t,r)=>{r.d(t,{Z:()=>A});var s=r(8381),n=r(3949),a=r(7174),l=r(825),c=r(3413),i=r(8023),o=r(2964),d=r(2524),m=r(6253),p=r(5232),u=r(8204),x=r(540),h=r(1657),f=r(6893),y=r(6309),j=r(8306),v=r(7847),b=r(2435),N=r(9343);const g=e=>{let{userType:t,id:r,image:s,name:n,date:a,rating:l,DoctorNurseId:c,specialization:o,location:g,fees:w,from:Z,to:k,setOverlay:C}=e;const I=(0,d.s0)(),$=()=>{I(`/${m.ih}/${t}/${c}`)};return(0,N.jsx)(f.Z,{xs:12,sm:6,md:6,lg:4,className:"mb-4",style:{maxWidth:"320px",minWidth:"fit-content"},children:(0,N.jsx)(y.Z,{className:"h-100 shadow-sm bg-white",children:(0,N.jsxs)(y.Z.Body,{className:"d-flex flex-column",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,N.jsx)(y.Z.Img,{variant:"top",src:s||v.f,alt:`${"doctor"===t?"Dr.":""} ${n}`,className:"rounded-circle me-3 flex-shrink-0",style:{width:"80px",height:"80px",objectFit:"cover"},onClick:$}),(0,N.jsxs)("div",{className:"flex-grow-1 min-w-0",style:{width:"175px"},children:[(0,N.jsx)(y.Z.Title,{className:"mb-0 text-truncate text-dark underline-pointer",onClick:$,children:(0,N.jsx)("span",{className:"d-block text-truncate",children:`${"doctor"===t?"Dr.":"Nurse"} ${n}`})}),(0,N.jsx)("small",{className:"text-muted text-truncate d-block",children:(0,b.vh)(new Date(a))}),(0,N.jsxs)("div",{className:"d-flex align-items-center mt-1",children:[(0,N.jsx)(x.pHD,{className:"text-warning me-1 flex-shrink-0"}),(0,N.jsx)("span",{className:"text-muted",children:Number(l).toFixed(2)})]})]})]}),(0,N.jsxs)("div",{className:"mb-3 min-w-0",children:["doctor"===t&&(0,N.jsx)(i.Z,{className:"mb-2",children:(0,N.jsx)(f.Z,{xs:12,children:(0,N.jsxs)("div",{className:"d-flex align-items-center text-secondary",children:[(0,N.jsx)(p.i_B,{className:"me-2 flex-shrink-0"}),(0,N.jsx)("small",{className:"text-truncate d-block",children:o})]})})}),(0,N.jsxs)(i.Z,{className:"g-2",children:[(0,N.jsx)(f.Z,{xs:12,children:(0,N.jsxs)("div",{className:"d-flex align-items-center text-secondary",children:[(0,N.jsx)(h.vcr,{className:"me-2 text-danger flex-shrink-0"}),(0,N.jsx)("small",{className:"text-truncate d-block",children:g})]})}),(0,N.jsx)(f.Z,{xs:12,children:(0,N.jsxs)("div",{className:"d-flex align-items-center text-secondary",children:[(0,N.jsx)(u.iFN,{className:"me-2 text-success flex-shrink-0"}),(0,N.jsxs)("small",{className:"text-truncate d-block",children:["$",w]})]})})]})]}),(0,N.jsxs)("div",{className:"mt-auto d-flex justify-content-between align-items-center min-w-0",children:[(0,N.jsxs)("div",{className:"d-flex gap-2",children:[(0,N.jsx)(j.vPQ,{className:"text-primary action-icon",onClick:()=>C({show:!0,type:"update",id:r,name:n,DoctorNurseId:c,appType:t})}),(0,N.jsx)(p.Ehm,{className:"text-danger action-icon",onClick:()=>C({show:!0,type:"delete",id:r,name:n,DoctorNurseId:c,appType:t})})]}),"doctor"===t&&Z&&(0,N.jsxs)("small",{className:"text-muted text-truncate",style:{maxWidth:"100px"},children:[Z," - ",k]})]})]})})})};var w=r(4568),Z=r(1546),k=r(5361),C=r(1935),I=r.n(C),$=r(6116);r(7525),r(5665);const F=function(e){let{overlay:{id:t,type:r,appType:c,DoctorNurseId:i,name:d},setOverlay:p}=e;const u=(0,n.I0)(),[x,h]=(0,s.useState)(new Date),{appointmentUpdateLoading:f}=(0,n.v9)((e=>e.appointments)),y=()=>p({show:!1});return(0,N.jsxs)(w.Z,{show:!0,onHide:y,centered:!0,backdrop:"static",keyboard:!1,children:[(0,N.jsx)(w.Z.Header,{closeButton:!0,className:"border-0",children:(0,N.jsxs)(w.Z.Title,{as:"h5",children:["Confirm ",r.charAt(0).toUpperCase()+r.slice(1)]})}),(0,N.jsxs)(w.Z.Body,{className:"py-4",children:[(0,N.jsxs)("p",{className:"mb-4",children:["Do you want to ",r," the appointment with"," ",(0,N.jsx)(a.rU,{to:`/${m.ih}/${c}/${i}`,className:"fw-bold underline-pointer text-dark",children:d}),"?"]}),"update"===r&&(0,N.jsx)(Z.Z.Group,{className:"mb-3",children:(0,N.jsx)(I(),{selected:x,onChange:e=>h(e),minDate:new Date,showIcon:!0,closeOnScroll:!0,placeholderText:"Select Date",className:"form-control",wrapperClassName:"w-100"})})]}),(0,N.jsxs)(w.Z.Footer,{className:"border-0",children:[(0,N.jsx)(k.Z,{variant:"secondary",onClick:y,className:"px-4 bg-white text-dark border-0",children:"Cancel"}),(0,N.jsx)(k.Z,{variant:"primary",onClick:async()=>{try{"delete"===r?await $.Am.promise(u((0,o.v1)({id:t})).unwrap(),{pending:"Canceling appointment...",success:"Appointment canceled successfully!",error:{render(e){let{data:t}=e;return t||"Failed to cancel appointment"}}}):"update"===r&&await $.Am.promise(u((0,o.W$)({id:t,date:x})).unwrap(),{pending:"Updating appointment...",success:"Appointment updated successfully!",error:{render(e){let{data:t}=e;return t||"Failed to update appointment"}}}),y()}catch(e){$.Am.error(e||"An error occurred")}},disabled:f,className:"px-4",style:{backgroundColor:"delete"===r?"var(--bs-danger)":"var(--primary)",borderColor:"delete"===r?"var(--bs-danger)":"var(--primary)"},children:f?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Processing..."]}):r.charAt(0).toUpperCase()+r.slice(1)})]})]})},A=e=>{let{isAppPage:t}=e;const r=(0,n.I0)(),{appointments:d,isLoading:p,error:u}=(0,n.v9)((e=>e.appointments)),[x,h]=(0,s.useState)({show:!1,type:"",id:"",name:""}),f=(0,s.useCallback)((e=>{h((t=>({...t,...e})))}),[]);(0,s.useEffect)((()=>{d.length||r((0,o.By)({date:null}))}),[d.length,r]);return(0,N.jsxs)("div",{className:t?"":"appointments-slider",children:[(0!==d.length||p)&&(0,N.jsx)("div",{className:"title",children:(0,N.jsx)(a.rU,{to:`/${m.rL}/${m.km}`,children:"Upcoming Appointments"})}),(0,N.jsx)("div",{className:"appointments-container",children:p?(0,N.jsx)("div",{className:"loading-placeholder text-primary",children:(0,N.jsx)(l.Z,{animation:"border",role:"status",children:(0,N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):u?(0,N.jsxs)(c.Z,{variant:"danger",className:"m-5 p-5 text-center",children:["Error: ",u,". Please try again later."]}):0===d.length?t&&(0,N.jsx)("div",{className:"no-appointments text-center m-5 p-5",children:"There Are No Upcoming Appointments"}):(0,N.jsx)(i.Z,{className:t?"justify-content-center justify-content-center ":"flex-nowrap",children:d.map((e=>(0,N.jsx)(g,{...e,setOverlay:f},e.id)))})}),x.show&&(0,N.jsx)(F,{setOverlay:f,overlay:x})]})}},2371:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var s=r(4418),n=r(8381),a=r(9343);const l=()=>((0,n.useEffect)((()=>{document.title="Appointments"}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{isAppPage:!0})}))},7903:(e,t,r)=>{r.d(t,{Ed:()=>a,UI:()=>n,XW:()=>l});var s=r(8381);function n(e,t){let r=0;return s.Children.map(e,(e=>s.isValidElement(e)?t(e,r++):e))}function a(e,t){let r=0;s.Children.forEach(e,(e=>{s.isValidElement(e)&&t(e,r++)}))}function l(e,t){return s.Children.toArray(e).some((e=>s.isValidElement(e)&&e.type===t))}},3341:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(5809),n=r.n(s),a=r(8381),l=r(4860),c=r.n(l),i=r(9343);const o={type:c().string,tooltip:c().bool,as:c().elementType},d=a.forwardRef(((e,t)=>{let{as:r="div",className:s,type:a="valid",tooltip:l=!1,...c}=e;return(0,i.jsx)(r,{...c,ref:t,className:n()(s,`${a}-${l?"tooltip":"feedback"}`)})}));d.displayName="Feedback",d.propTypes=o;const m=d},8708:(e,t,r)=>{r.d(t,{Z:()=>f});var s=r(5809),n=r.n(s),a=r(8381),l=r(3341),c=r(7122),i=r(4169),o=r(9343);const d=a.forwardRef(((e,t)=>{let{id:r,bsPrefix:s,className:l,type:d="checkbox",isValid:m=!1,isInvalid:p=!1,as:u="input",...x}=e;const{controlId:h}=(0,a.useContext)(c.Z);return s=(0,i.vE)(s,"form-check-input"),(0,o.jsx)(u,{...x,ref:t,type:d,id:r||h,className:n()(l,s,m&&"is-valid",p&&"is-invalid")})}));d.displayName="FormCheckInput";const m=d,p=a.forwardRef(((e,t)=>{let{bsPrefix:r,className:s,htmlFor:l,...d}=e;const{controlId:m}=(0,a.useContext)(c.Z);return r=(0,i.vE)(r,"form-check-label"),(0,o.jsx)("label",{...d,ref:t,htmlFor:l||m,className:n()(s,r)})}));p.displayName="FormCheckLabel";const u=p;var x=r(7903);const h=a.forwardRef(((e,t)=>{let{id:r,bsPrefix:s,bsSwitchPrefix:d,inline:p=!1,reverse:h=!1,disabled:f=!1,isValid:y=!1,isInvalid:j=!1,feedbackTooltip:v=!1,feedback:b,feedbackType:N,className:g,style:w,title:Z="",type:k="checkbox",label:C,children:I,as:$="input",...F}=e;s=(0,i.vE)(s,"form-check"),d=(0,i.vE)(d,"form-switch");const{controlId:A}=(0,a.useContext)(c.Z),E=(0,a.useMemo)((()=>({controlId:r||A})),[A,r]),O=!I&&null!=C&&!1!==C||(0,x.XW)(I,u),P=(0,o.jsx)(m,{...F,type:"switch"===k?"checkbox":k,ref:t,isValid:y,isInvalid:j,disabled:f,as:$});return(0,o.jsx)(c.Z.Provider,{value:E,children:(0,o.jsx)("div",{style:w,className:n()(g,O&&s,p&&`${s}-inline`,h&&`${s}-reverse`,"switch"===k&&d),children:I||(0,o.jsxs)(o.Fragment,{children:[P,O&&(0,o.jsx)(u,{title:Z,children:C}),b&&(0,o.jsx)(l.Z,{type:N,tooltip:v,children:b})]})})})}));h.displayName="FormCheck";const f=Object.assign(h,{Input:m,Label:u})},7122:(e,t,r)=>{r.d(t,{Z:()=>s});const s=r(8381).createContext({})},4763:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(8381),n=r(7122),a=r(9343);const l=s.forwardRef(((e,t)=>{let{controlId:r,as:l="div",...c}=e;const i=(0,s.useMemo)((()=>({controlId:r})),[r]);return(0,a.jsx)(n.Z.Provider,{value:i,children:(0,a.jsx)(l,{...c,ref:t})})}));l.displayName="FormGroup";const c=l},946:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(5809),n=r.n(s),a=r(8381),l=(r(2483),r(6893)),c=r(7122),i=r(4169),o=r(9343);const d=a.forwardRef(((e,t)=>{let{as:r="label",bsPrefix:s,column:d=!1,visuallyHidden:m=!1,className:p,htmlFor:u,...x}=e;const{controlId:h}=(0,a.useContext)(c.Z);s=(0,i.vE)(s,"form-label");let f="col-form-label";"string"===typeof d&&(f=`${f} ${f}-${d}`);const y=n()(p,s,m&&"visually-hidden",d&&f);return u=u||h,d?(0,o.jsx)(l.Z,{ref:t,as:"label",className:y,htmlFor:u,...x}):(0,o.jsx)(r,{ref:t,className:y,htmlFor:u,...x})}));d.displayName="FormLabel";const m=d},2483:e=>{var t=function(){};e.exports=t},907:(e,t,r)=>{function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}r.d(t,{Z:()=>s})},7326:(e,t,r)=>{function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:()=>s})},5671:(e,t,r)=>{function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:()=>s})},3144:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(9142);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,s.Z)(n.key),n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},8557:(e,t,r)=>{function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n=function(){return!!e})()}r.d(t,{Z:()=>c});var a=r(1002),l=r(7326);function c(e){var t=n();return function(){var r,n=s(e);if(t){var c=s(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==(0,a.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,l.Z)(e)}(this,r)}}},136:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(9611);function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,s.Z)(e,t)}},181:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(907);function n(e,t){if(e){if("string"==typeof e)return(0,s.Z)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,s.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=253.c91ab7a2.chunk.js.map