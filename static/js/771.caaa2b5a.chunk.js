/*! For license information please see 771.caaa2b5a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcare_track=self.webpackChunkcare_track||[]).push([[771],{5285:()=>{},5324:(e,n,t)=>{t.d(n,{Z:()=>v});var a=t(6893),i=t(6309),r=t(8023),s=t(9864),l=t(5361),o=t(5232),c=t(1657),d=t(8204),m=t(540),p=t(8118),u=t(7174),f=t(6253),h=t(7847),x=t(9343);const v=e=>{let{isPage:n,id:t,name:v,image:g,specialization:b,fees:y,location:j,rating:N,email:w,description:k}=e;const[Z]=(0,u.lr)(),_=Z.get("searchFor");return(0,x.jsx)(a.Z,{md:12,className:"mb-2",children:(0,x.jsx)(i.Z,{className:"h-100 shadow-sm hover-shadow  bg-white",children:(0,x.jsxs)(r.Z,{className:"g-0 h-100",children:[(0,x.jsx)(a.Z,{sm:12,md:5,lg:4,className:"d-flex align-items-center ",children:(0,x.jsx)(i.Z.Img,{src:g||h.f,alt:v,className:"rounded-start object-fit-cover ratio ratio-4x3 doctor-nurse-img"})}),(0,x.jsx)(a.Z,{sm:12,md:7,lg:8,children:(0,x.jsxs)(i.Z.Body,{className:"h-100 d-flex flex-column",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,x.jsx)(i.Z.Title,{className:"mb-0",children:(0,x.jsxs)(u.rU,{to:`/care-track/${f.ih}/${_}/${t}`,className:"underline-pointer text-dark",children:["doctor"===_&&"Dr.",v]})}),(0,x.jsxs)(s.Z,{bg:"warning",className:"d-flex align-items-center gap-1",children:[(0,x.jsx)(m.pHD,{}),(0,x.jsx)("span",{children:Number(N).toFixed(2)})]})]}),"doctor"===_&&(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2 border-bottom",children:[(0,x.jsx)(o.i_B,{className:"text-primary"}),(0,x.jsx)(i.Z.Text,{className:"mb-0 fw-bold",children:b})]}),k&&(0,x.jsx)(i.Z.Text,{className:"text-muted mb-3 border-bottom",children:k}),(0,x.jsxs)(r.Z,{className:" d-flex flex-column g-2 mb-3 border-bottom",children:[j&&(0,x.jsx)(a.Z,{xs:12,children:(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 border-bottom",children:[(0,x.jsx)(c.vcr,{className:"text-danger"}),(0,x.jsx)("span",{children:j})]})}),y&&(0,x.jsx)(a.Z,{xs:12,children:(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 border-bottom",children:[(0,x.jsx)(d.iFN,{className:"text-success"}),(0,x.jsx)("span",{children:y})]})}),(0,x.jsx)(a.Z,{xs:6,children:(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.ixJ,{className:"text-primary"})}),(0,x.jsx)("p",{children:(0,x.jsx)(l.Z,{variant:"link",className:"p-0 text-dark text-decoration-none text-nowrap underline-pointer",href:`mailto:${w}`,children:(0,x.jsx)("span",{children:w})})})]})})]}),(0,x.jsxs)("div",{className:`mt-auto d-flex justify-content-${n?"end":"between"} align-items-center`,children:[!n&&(0,x.jsx)(l.Z,{variant:"outline-primary",as:u.rU,to:`/care-track/${f.ih}/${_}/${t}`,children:"View Profile"}),(0,x.jsxs)(l.Z,{variant:"primary",className:"d-flex align-items-center gap-2",children:[(0,x.jsx)(p.i0Y,{}),(0,x.jsx)("span",{children:"Chat"})]})]})]})})]})})})}},1771:(e,n,t)=>{t.r(n),t.d(n,{default:()=>R});var a=t(8381),i=t(6304),r=t(2524),s=t(825),l=t(3413),o=t(8023),c=t(6893),d=t(1546),m=t(6309),p=t(5361),u=t(9459),f=t(1935),h=t.n(f),x=(t(5665),t(5324));!function(e){if(e&&"undefined"!==typeof window){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n)}}('.blank {\n  height: 2rem;\n  width: 7rem;\n}\n\n.loader {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  background: rgba(240, 240, 240, 0.9);\n  z-index: "2";\n  justify-content: center;\n  align-items: center;\n}\n\n.appointment-content {\n  position: relative;\n  overflow: hidden;\n  margin: 0 auto;\n}\n\n.appointment-picker {\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  width: max-content;\n}\n.appointment-picker > *:not(:last-child) {\n  margin-right: 0.2rem;\n}\n.appointment-picker__col {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-items: center;\n}\n.appointment-picker__col > *:not(:last-child) {\n  margin-bottom: 0.2rem;\n}\n.appointment-picker__col__name {\n  font-weight: normal;\n  height: 2rem;\n  width: 2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  color: #9E9E9E;\n}\n.appointment-picker__col--enabled:hover {\n  background-color: #F5F5F5;\n}\n.appointment-picker__col--selected {\n  background-color: #F5F5F5;\n}\n.appointment-picker__col--enabled:hover > .appointment-picker__col__number {\n  font-weight: 600;\n}\n.appointment-picker__col--selected > .appointment-picker__col__number {\n  font-weight: 600;\n}\n\n.appointment {\n  background-color: #4FC3F7;\n  width: 7rem;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.4rem;\n}\n.appointment__time {\n  font-size: 1rem;\n}\n.appointment--enabled {\n  cursor: pointer;\n}\n.appointment--enabled:hover {\n  background-color: #03A9F4;\n}\n.appointment--selected {\n  cursor: pointer;\n  background-color: #4CAF50;\n}\n.appointment--reserved {\n  cursor: not-allowed;\n  background-color: #E0E0E0;\n}');var v=function(){return v=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},v.apply(this,arguments)};function g(e){var n="function"===typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,i,r=t.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return s}var y=function(e){var n=e.visible,t=e.dayNumber;return n?a.createElement("div",{className:"appointment-picker__col__name"},t):null},j=function(e){var n=e.visible,t=e.dayNumber,i=e.isSelected,r=e.children,s="appointment-picker__col"+(i?" appointment-picker__col--selected":" appointment-picker__col--enabled");return a.createElement("div",{className:s},a.createElement(y,{dayNumber:t,visible:n}),r)},N=function(e){var n=e.isSelected,t=void 0!==n&&n,i=e.isReserved,r=e.isEnabled,s=e.periods,l=e.time,o=e.selectAppointment,c="appointment"+(t?" appointment--selected":"")+(t||!r||i?"":" appointment--enabled")+(i?" appointment--reserved":""),d={height:"calc(2rem*"+(s||1)+" + 0.2rem*("+(s||1)+" - 1))"};return a.createElement("div",{style:d,className:c,onClick:function(){!i&&o()}},a.createElement("span",{className:"appointment__time"},l))},w=function(){return a.createElement("div",{className:"blank"})},k=function(e,n,t){var a=e.get(n);return!!a&&!!a.get(t)},Z=function(e,n,t,a,i){var r=e.get(n);r?r.get(t)||r.set(t,{id:i,time:a}):e.set(n,new Map([[t,{id:i,time:a}]]))},_=function(e){var n,t,i,r,s=e.alpha,l=e.selectedByDefault,o=e.continuous,c=e.loading,d=e.addAppointmentCallback,m=void 0===d?function(e){var n=e.addedAppointment,t=n.day,a=n.number,i=n.time,r=n.id,s=e.addCb;console.log("Added appointment "+a+", day "+t+", time "+i+", id "+r),s(t,a,i,r)}:d,p=e.removeAppointmentCallback,u=void 0===p?function(e,n){var t=e.day,a=e.number,i=e.time,r=e.id;console.log("Removed appointment "+a+", day "+t+", time "+i+", id "+r),n(t,a)}:p,f=e.days,h=e.maxReservableAppointments,x=void 0===h?0:h,y=e.initialDay,_=void 0===y?new Date:y,A=e.unitTime,T=void 0===A?9e5:A,E=e.visible,S=e.local,D=void 0===S?"en-US":S,C=function(e){var n=e.maxReservableAppointments,t=e.days,a=e.alpha,i=e.selectedByDefault,r=e.initialDay,s=e.unitTime,l=e.local,o=new Map,c=0;return i&&t.forEach((function(e,t){var i=new Date(r.getTime()+864e5*t),d=a?i.toLocaleDateString(l,{weekday:"long"}):i.toLocaleDateString(l),m=0;e.forEach((function(e,t){if(null===e)m+=1;else if(e.isSelected){var a=new Date(i.getTime()+s*m).toLocaleTimeString(l),r=k(o,d,e.number);c<n&&!r&&(Z(o,d,e.number,a,e.id),c+=1)}}))})),{selectedAppointments:o,size:c}}({maxReservableAppointments:x,days:f,alpha:s,selectedByDefault:l,initialDay:_,unitTime:T,local:D}),F=C.selectedAppointments,P=C.size,R=f.map((function(e){var n=0;return e.forEach((function(e){n=e&&e.periods?n+e.periods:n+1})),n})),L=b((0,a.useState)(F),2),I=L[0],$=L[1],z=(0,a.useRef)(P),B=b((0,a.useState)(P),2)[1],O=b((0,a.useState)(R),1)[0],H=b((0,a.useState)(Math.max.apply(null,O)),1)[0];if(x<z.current){var U=0,W=new Map;try{for(var M=g(I.keys()),G=M.next();!G.done;G=M.next()){var V=G.value,q=I.get(V),J=q?q.size:0;if(U+J<x)W.set(V,q);else{var Y=x-U,K=0;if(q)try{for(var Q=(i=void 0,g(q.keys())),X=Q.next();!X.done;X=Q.next()){var ee=X.value;K<Y&&q.delete(ee),K++}}catch(re){i={error:re}}finally{try{X&&!X.done&&(r=Q.return)&&r.call(Q)}finally{if(i)throw i.error}}W.set(V,q),$(W),B(x)}U+=J}}catch(se){n={error:se}}finally{try{G&&!G.done&&(t=M.return)&&t.call(M)}finally{if(n)throw n.error}}}var ne=function(e,n,t,a){z.current<x&&(Z(I,e,n,t,a),z.current=z.current+1,B((function(e){return e+1})))},te=function(e,n){!function(e,n){var t=I.get(e);t&&(t.delete(n),t.size>0||I.delete(e))}(e,n),z.current=z.current-1,B((function(e){return e-1}))},ae=function(e,n,t,a){var i=k(I,e,n);if(z.current<x)i?u({day:e,number:n,time:t,id:a},te):m({addedAppointment:{day:e,number:n,time:t,id:a},addCb:ne});else if(I.get(e)&&i)u({day:e,number:n,time:t,id:a},te);else if(o){var r=I.keys().next().value,s=I.get(r),l=s.keys().next().value,c=s.get(l);m({addedAppointment:{day:e,number:n,time:t,id:a},addCb:ne,removedAppointment:{day:r,number:l,time:c.time,id:c.id},removeCb:te})}},ie=function(e,n,t,i,r){var s=new Array(H-i>0?H-i:0).fill(0),l=0,c=e.map((function(e){if(null===e)return l+=1,a.createElement(w,{key:l});var i=new Date(r.getTime()+T*l).toLocaleTimeString(D),s={isSelected:t&&k(I,n,e.number),isReserved:e.isReserved,isEnabled:z.current<x||o,selectAppointment:function(){ae(n,e.number,i,e.id)},appointmentNumber:i,periods:e.periods?e.periods:1,time:i};return l+=e&&e.periods?e.periods:1,a.createElement(N,v({key:l},s))}));return s.length>0&&s.forEach((function(e,n){c.push(a.createElement(w,{key:2*(l+n+1)}))})),c};return a.createElement("div",{className:"appointment-content"},a.createElement("div",{className:c?"loader":void 0}),a.createElement("div",{className:"appointment-picker"},f.map((function(e,n){var t=new Date(_.getTime()+864e5*n),i=s?t.toLocaleDateString(D,{weekday:"long"}):t.toLocaleDateString(D),r=!!I.get(i),l={visible:E,dayNumber:i,isSelected:r,selectedAppointment:null,appointments:e,selectAppointment:ae};return a.createElement(j,v({key:n},l),ie(e,i,r,O[n],t))}))))},A=t(3949),T=t(2899),E=t(2435),S=t(9343);const D=function(){const{clinic:{shecheduleDay:e,location:n,initShecheduleDate:t,id:i,isLoading:r},profileData:{appointmentTime:s}}=(0,A.v9)((e=>e.profile)),o=(0,A.I0)();return(0,a.useEffect)((()=>{i&&t&&o((0,T.Ae)({date:new Date(t).getTime(),clinicId:i}))}),[i,t,n,o]),(0,S.jsxs)(c.Z,{xs:12,children:[n&&!r&&(0,S.jsx)(m.Z,{className:"mb-3 shadow-sm",children:(0,S.jsx)(m.Z.Body,{className:"py-2",children:(0,S.jsx)("h5",{className:"mb-0 text-center text-primary",children:n})})}),e.every((e=>!e.length))&&i&&(0,S.jsx)(l.Z,{variant:"danger",className:"text-center",children:"This Clinic Has No Schedule For This Range try Other Date"}),(0,S.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,S.jsx)(_,{addAppointmentCallback:e=>{let{addedAppointment:{day:n,number:t,time:a,id:i},addCb:r,removedAppointment:s,removeCb:l}=e;l&&l(s.day,s.number),r(n,t,a,i);const c=(0,E.wG)(n,a);console.log(c),o((0,T.qW)({appointmentTime:c}))},removeAppointmentCallback:(e,n)=>{let{day:t,number:a}=e;n(t,a)},initialDay:new Date(t),unitTime:60*s*1e3,days:e,className:"appointment-picker-with-offset",maxReservableAppointments:1,local:"en-IN",visible:!0,loading:r,continuous:!0})})]})};var C=t(6253),F=(t(5285),t(6116));const P=function(){const e=(0,A.I0)(),{profileData:n,clinic:{id:t,initShecheduleDate:i,appointmentTime:f},isLoading:v,error:g}=(0,A.v9)((e=>e.profile)),{userType:b,id:y}=(0,r.UO)(),{userType:j}=(0,A.v9)((e=>e.authedUser.user));return(0,a.useEffect)((()=>{e((0,T.Ai)({id:y,userType:b}))}),[e,y,b]),n.isLoading?(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center my-5 ",style:{minHeight:"50vh"},children:(0,S.jsx)(s.Z,{animation:"border",role:"status",variant:"primary",children:(0,S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):n.error?(0,S.jsxs)(l.Z,{variant:"danger",className:"m-4",children:["Error: ",n.error]}):n.id?(0,S.jsx)(o.Z,{children:(0,S.jsxs)(c.Z,{md:12,lg:8,className:"mx-auto my-3",children:[(0,S.jsx)(x.Z,{isPage:!0,type:b,...n}),(0,S.jsx)(d.Z,{onSubmit:async n=>{if(n.preventDefault(),f)try{await F.Am.promise(e((0,T.gV)({date:f,type:b,doctorId:y,nurseId:y,clinicId:t})).unwrap(),{pending:"Booking The Appointment...",success:"The Appointment Booked Successfully.",error:{render(e){let{data:n}=e;return console.log("Toast error data:",n),(null===n||void 0===n?void 0:n.payload)||"Something Went Wrong, Please Try Again."}}})}catch(n){}else{const n=b===C.PZ?"Please Choose A Clinic And The Apointment Date First":"Please Choose The Apointment Date First";e((0,T.sT)(n))}},className:"mt-4 shadow-sm rounded",children:(0,S.jsxs)(m.Z,{children:[(0,S.jsx)(m.Z.Header,{as:"h4",className:"bg-primary text-white",children:"Book An Appointment"}),(0,S.jsxs)(m.Z.Body,{className:"bg-white",children:[g&&(0,S.jsx)(l.Z,{variant:"danger",className:"mt-3",children:g}),j!==C.rL&&(0,S.jsx)(l.Z,{variant:"danger",className:"mt-3",children:"Sign Up As Patinet To Book An Appointment"}),b===C.PZ&&(0,S.jsxs)(d.Z.Group,{className:"mb-4",children:[(0,S.jsx)(d.Z.Label,{children:"Select Clinic"}),(0,S.jsx)(u.ZP,{options:n.clinics,placeholder:"Choose clinic",onChange:n=>{t!==n.id&&e((0,T.d2)({clinic:n}))},className:"react-select-container",classNamePrefix:"react-select"})]}),(t||b===C.W5)&&(0,S.jsxs)(d.Z.Group,{className:"mb-4",children:[(0,S.jsx)(d.Z.Label,{children:"Select Date"}),(0,S.jsx)("br",{}),(0,S.jsx)(h(),{selected:i,onChange:n=>{const t=new Date(n);t.setHours(9,0,0,0),b===C.W5&&e((0,T.qW)({appointmentTime:t})),e((0,T.Tk)({initDate:t}))},minDate:new Date((new Date).setHours(9)),className:"form-control bg-white",popperPlacement:"auto",placeholderText:"Select Date",showIcon:!0,required:!0})]}),b===C.PZ&&(0,S.jsx)(D,{doctorId:y}),(0,S.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,S.jsx)(p.Z,{variant:"primary",type:"submit",size:"lg",disabled:v||j!==C.rL,children:v?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,S.jsx)("span",{className:"ms-2",children:"Submitting..."})]}):"Book Appointment"})})]})]})})]})}):(0,S.jsx)("div",{className:" my-5 ",style:{minHeight:"30vh"},children:(0,S.jsx)(l.Z,{variant:"info",className:"text-center",children:"Profile Not Found."})})};const R=function(){return(0,a.useEffect)((()=>{document.title="Profile"})),(0,S.jsx)("main",{className:"profile",children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(P,{})})})}},9864:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(5809),i=t.n(a),r=t(8381),s=t(4169),l=t(9343);const o=r.forwardRef(((e,n)=>{let{bsPrefix:t,bg:a="primary",pill:r=!1,text:o,className:c,as:d="span",...m}=e;const p=(0,s.vE)(t,"badge");return(0,l.jsx)(d,{ref:n,...m,className:i()(c,p,r&&"rounded-pill",o&&`text-${o}`,a&&`bg-${a}`)})}));o.displayName="Badge";const c=o},1546:(e,n,t)=>{t.d(n,{Z:()=>D});var a=t(5809),i=t.n(a),r=t(4860),s=t.n(r),l=t(8381),o=t(8708),c=(t(2483),t(3341)),d=t(7122),m=t(4169),p=t(9343);const u=l.forwardRef(((e,n)=>{let{bsPrefix:t,type:a,size:r,htmlSize:s,id:o,className:c,isValid:u=!1,isInvalid:f=!1,plaintext:h,readOnly:x,as:v="input",...g}=e;const{controlId:b}=(0,l.useContext)(d.Z);return t=(0,m.vE)(t,"form-control"),(0,p.jsx)(v,{...g,type:a,size:s,ref:n,readOnly:x,id:o||b,className:i()(c,h?`${t}-plaintext`:t,r&&`${t}-${r}`,"color"===a&&`${t}-color`,u&&"is-valid",f&&"is-invalid")})}));u.displayName="FormControl";const f=Object.assign(u,{Feedback:c.Z}),h=l.forwardRef(((e,n)=>{let{className:t,bsPrefix:a,as:r="div",...s}=e;return a=(0,m.vE)(a,"form-floating"),(0,p.jsx)(r,{ref:n,className:i()(t,a),...s})}));h.displayName="FormFloating";const x=h;var v=t(4763),g=t(946);const b=l.forwardRef(((e,n)=>{let{bsPrefix:t,className:a,id:r,...s}=e;const{controlId:o}=(0,l.useContext)(d.Z);return t=(0,m.vE)(t,"form-range"),(0,p.jsx)("input",{...s,type:"range",ref:n,className:i()(a,t),id:r||o})}));b.displayName="FormRange";const y=b,j=l.forwardRef(((e,n)=>{let{bsPrefix:t,size:a,htmlSize:r,className:s,isValid:o=!1,isInvalid:c=!1,id:u,...f}=e;const{controlId:h}=(0,l.useContext)(d.Z);return t=(0,m.vE)(t,"form-select"),(0,p.jsx)("select",{...f,size:r,ref:n,className:i()(s,t,a&&`${t}-${a}`,o&&"is-valid",c&&"is-invalid"),id:u||h})}));j.displayName="FormSelect";const N=j,w=l.forwardRef(((e,n)=>{let{bsPrefix:t,className:a,as:r="small",muted:s,...l}=e;return t=(0,m.vE)(t,"form-text"),(0,p.jsx)(r,{...l,ref:n,className:i()(a,t,s&&"text-muted")})}));w.displayName="FormText";const k=w,Z=l.forwardRef(((e,n)=>(0,p.jsx)(o.Z,{...e,ref:n,type:"switch"})));Z.displayName="Switch";const _=Object.assign(Z,{Input:o.Z.Input,Label:o.Z.Label}),A=l.forwardRef(((e,n)=>{let{bsPrefix:t,className:a,children:r,controlId:s,label:l,...o}=e;return t=(0,m.vE)(t,"form-floating"),(0,p.jsxs)(v.Z,{ref:n,className:i()(a,t),controlId:s,...o,children:[r,(0,p.jsx)("label",{htmlFor:s,children:l})]})}));A.displayName="FloatingLabel";const T=A,E={_ref:s().any,validated:s().bool,as:s().elementType},S=l.forwardRef(((e,n)=>{let{className:t,validated:a,as:r="form",...s}=e;return(0,p.jsx)(r,{...s,ref:n,className:i()(t,a&&"was-validated")})}));S.displayName="Form",S.propTypes=E;const D=Object.assign(S,{Group:v.Z,Control:f,Floating:x,Check:o.Z,Switch:_,Label:g.Z,Text:k,Range:y,Select:N,FloatingLabel:T})}}]);
//# sourceMappingURL=771.caaa2b5a.chunk.js.map