"use strict";(self.webpackChunkcare_track=self.webpackChunkcare_track||[]).push([[210],{7071:(e,a,l)=>{l.d(a,{Cj:()=>i,DO:()=>r,_q:()=>s,an:()=>o,cA:()=>d,qg:()=>n});const i=[{id:1,label:"Cardiology",value:"Cardiology"},{id:2,label:"Dermatology",value:"Dermatology"},{id:3,label:"Pediatrics",value:"Pediatrics"},{id:4,label:"Orthopedics",value:"Orthopedics"},{id:5,label:"Neurology",value:"Neurology"},{id:6,label:"Ophthalmology",value:"Ophthalmology"},{id:7,label:"Obstetrics and Gynecology",value:"Obstetrics and Gynecology"},{id:8,label:"Psychiatry",value:"Psychiatry"},{id:9,label:"General Surgery",value:"General Surgery"},{id:10,label:"Internal Medicine",value:"Internal Medicine"},{id:11,label:"Anesthesiology",value:"Anesthesiology"},{id:12,label:"Radiology",value:"Radiology"},{id:13,label:"Urology",value:"Urology"},{id:14,label:"Oncology",value:"Oncology"},{id:15,label:"Pulmonology",value:"Pulmonology"},{id:16,label:"Gastroenterology",value:"Gastroenterology"},{id:17,label:"Endocrinology",value:"Endocrinology"},{id:18,label:"Nephrology",value:"Nephrology"},{id:19,label:"Otolaryngology (ENT)",value:"Otolaryngology (ENT)"},{id:20,label:"Rheumatology",value:"Rheumatology"},{id:21,label:"Hematology",value:"Hematology"},{id:22,label:"Allergy and Immunology",value:"Allergy and Immunology"},{id:23,label:"Infectious Disease",value:"Infectious Disease"},{id:24,label:"Physical Medicine and Rehabilitation",value:"Physical Medicine and Rehabilitation"},{id:25,label:"Emergency Medicine",value:"Emergency Medicine"},{id:26,label:"Pathology",value:"Pathology"},{id:27,label:"Plastic Surgery",value:"Plastic Surgery"},{id:28,label:"Thoracic Surgery",value:"Thoracic Surgery"},{id:29,label:"Vascular Surgery",value:"Vascular Surgery"},{id:30,label:"Dentistry",value:"Dentistry"}],s=[{label:"Patient",value:"patient"},{label:"Doctor",value:"doctor"},{label:"Nurse",value:"nurse"}],r=[{id:1,value:"A+",label:"A+"},{id:2,value:"A-",label:"A-"},{id:3,value:"B+",label:"B+"},{id:4,value:"B-",label:"B-"},{id:5,value:"O+",label:"O+"},{id:6,value:"O-",label:"O-"},{id:7,value:"AB+",label:"AB+"},{id:8,value:"AB-",label:"AB-"}],n=[{id:1,value:"doctor",label:"Doctor"},{id:2,value:"nurse",label:"Nurse"},{id:3,value:"donator",label:"Blood Donator"},{id:4,value:"donation_request",label:"Blood Request"}],d=[{id:0,label:"All",value:"All"},{id:1,label:"Cairo",value:"Cairo"},{id:2,label:"Alexandria",value:"Alexandria"},{id:3,label:"Giza",value:"Giza"},{id:4,label:"6th of October City",value:"6th of October City"},{id:5,label:"Port Said",value:"Port Said"},{id:6,label:"Suez",value:"Suez"},{id:7,label:"Luxor",value:"Luxor"},{id:8,label:"Asyut",value:"Asyut"},{id:9,label:"Mansoura",value:"Mansoura"},{id:10,label:"Tanta",value:"Tanta"},{id:11,label:"Zagazig",value:"Zagazig"},{id:12,label:"Faiyum",value:"Faiyum"},{id:13,label:"Ismailia",value:"Ismailia"},{id:14,label:"Aswan",value:"Aswan"},{id:15,label:"Minya",value:"Minya"},{id:16,label:"Hurghada",value:"Hurghada"},{id:17,label:"Shubra El-Kheima",value:"Shubra El-Kheima"},{id:18,label:"Qena",value:"Qena"},{id:19,label:"Sohag",value:"Sohag"},{id:20,label:"Banha",value:"Banha"}],o=[{label:"Sunday",value:0},{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6}]},210:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var i=l(8381),s=l(6304),r=l(6309),n=l(5809),d=l.n(n),o=l(6637),t=l(4169),c=l(4164);function u(e,a){return Array.isArray(e)?e.includes(a):e===a}const m=i.createContext({});m.displayName="AccordionContext";const v=m;var y=l(9343);const h=i.forwardRef(((e,a)=>{let{as:l="div",bsPrefix:s,className:r,children:n,eventKey:o,...m}=e;const{activeEventKey:h}=(0,i.useContext)(v);return s=(0,t.vE)(s,"accordion-collapse"),(0,y.jsx)(c.Z,{ref:a,in:u(h,o),...m,className:d()(r,s),children:(0,y.jsx)(l,{children:i.Children.only(n)})})}));h.displayName="AccordionCollapse";const g=h,b=i.createContext({eventKey:""});b.displayName="AccordionItemContext";const x=b,p=i.forwardRef(((e,a)=>{let{as:l="div",bsPrefix:s,className:r,onEnter:n,onEntering:o,onEntered:c,onExit:u,onExiting:m,onExited:v,...h}=e;s=(0,t.vE)(s,"accordion-body");const{eventKey:b}=(0,i.useContext)(x);return(0,y.jsx)(g,{eventKey:b,onEnter:n,onEntering:o,onEntered:c,onExit:u,onExiting:m,onExited:v,children:(0,y.jsx)(l,{ref:a,...h,className:d()(r,s)})})}));p.displayName="AccordionBody";const j=p;const f=i.forwardRef(((e,a)=>{let{as:l="button",bsPrefix:s,className:r,onClick:n,...o}=e;s=(0,t.vE)(s,"accordion-button");const{eventKey:c}=(0,i.useContext)(x),m=function(e,a){const{activeEventKey:l,onSelect:s,alwaysOpen:r}=(0,i.useContext)(v);return i=>{let n=e===l?null:e;r&&(n=Array.isArray(l)?l.includes(e)?l.filter((a=>a!==e)):[...l,e]:[e]),null==s||s(n,i),null==a||a(i)}}(c,n),{activeEventKey:h}=(0,i.useContext)(v);return"button"===l&&(o.type="button"),(0,y.jsx)(l,{ref:a,onClick:m,...o,"aria-expanded":Array.isArray(h)?h.includes(c):c===h,className:d()(r,s,!u(h,c)&&"collapsed")})}));f.displayName="AccordionButton";const N=f,C=i.forwardRef(((e,a)=>{let{as:l="h2","aria-controls":i,bsPrefix:s,className:r,children:n,onClick:o,...c}=e;return s=(0,t.vE)(s,"accordion-header"),(0,y.jsx)(l,{ref:a,...c,className:d()(r,s),children:(0,y.jsx)(N,{onClick:o,"aria-controls":i,children:n})})}));C.displayName="AccordionHeader";const S=C,Z=i.forwardRef(((e,a)=>{let{as:l="div",bsPrefix:s,className:r,eventKey:n,...o}=e;s=(0,t.vE)(s,"accordion-item");const c=(0,i.useMemo)((()=>({eventKey:n})),[n]);return(0,y.jsx)(x.Provider,{value:c,children:(0,y.jsx)(l,{ref:a,...o,className:d()(r,s)})})}));Z.displayName="AccordionItem";const A=Z,P=i.forwardRef(((e,a)=>{const{as:l="div",activeKey:s,bsPrefix:r,className:n,onSelect:c,flush:u,alwaysOpen:m,...h}=(0,o.Ch)(e,{activeKey:"onSelect"}),g=(0,t.vE)(r,"accordion"),b=(0,i.useMemo)((()=>({activeEventKey:s,onSelect:c,alwaysOpen:m})),[s,c,m]);return(0,y.jsx)(v.Provider,{value:b,children:(0,y.jsx)(l,{ref:a,...h,className:d()(n,g,u&&`${g}-flush`)})})}));P.displayName="Accordion";const E=Object.assign(P,{Button:N,Collapse:g,Item:A,Header:S,Body:j});var w=l(8358),I=l(2264),O=l(8023),q=l(6893),B=l(1546),K=l(5361),k=l(825),D=l(3413),G=l(9459),F=l(7071);const L=function(){var e,a,l;const{register:r,handleSubmit:n,control:d,reset:o,formState:{errors:t}}=(0,w.cI)({defaultValues:{clinicName:"",clinicPhone:"",city:null,clinicLocation:""}}),[c,u]=(0,i.useState)({isLoading:!1,error:""});return(0,y.jsx)(s.Z,{fluid:!0,className:"py-4",children:(0,y.jsx)(O.Z,{className:"justify-content-center",children:(0,y.jsx)(q.Z,{md:8,lg:6,children:(0,y.jsxs)(B.Z,{onSubmit:n((async e=>{try{u({isLoading:!0,error:null}),console.log(e),await(0,I.a8)(e),u({isLoading:!1,error:null}),o(),alert("Clinic created successfully!")}catch(a){console.error("Clinic creation failed: ",a),u({isLoading:!1,error:a.message||"An error occurred."})}})),children:[(0,y.jsxs)(B.Z.Group,{className:"mb-3",children:[(0,y.jsx)(B.Z.Control,{type:"text",placeholder:"Enter clinic name",isInvalid:!!t.clinicName,className:"bg-white",...r("clinicName",{required:"Clinic Name Is Required",setValueAs:e=>e.replace(/\s+/g," ").trim()})}),(0,y.jsx)(B.Z.Control.Feedback,{type:"invalid",children:null===(e=t.clinicName)||void 0===e?void 0:e.message})]}),(0,y.jsxs)(B.Z.Group,{className:"mb-3",children:[(0,y.jsx)(B.Z.Control,{type:"tel",placeholder:"Enter phone number",isInvalid:!!t.clinicPhone,className:"bg-white",...r("clinicPhone",{required:"Clinic Phone is required",pattern:{value:/^01[0-9]{9}$/,message:"Invalid phone number"}})}),(0,y.jsx)(B.Z.Control.Feedback,{type:"invalid",children:null===(a=t.clinicPhone)||void 0===a?void 0:a.message})]}),(0,y.jsx)(B.Z.Group,{className:"mb-3",children:(0,y.jsx)(w.Qr,{name:"city",control:d,rules:{required:"City is required"},render:e=>{let{field:a,fieldState:{error:l}}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(G.ZP,{...a,placeholder:"Choose City",options:F.cA,isClearable:!0,classNamePrefix:"select",styles:{control:e=>({...e,borderColor:l?"#dc3545":"#ced4da","&:hover":{borderColor:l?"#dc3545":"#ced4da"}})}}),l&&(0,y.jsx)(B.Z.Text,{className:"text-danger",children:l.message})]})}})}),(0,y.jsxs)(B.Z.Group,{className:"mb-4",children:[(0,y.jsx)(B.Z.Control,{as:"textarea",rows:3,placeholder:"Enter clinic address",isInvalid:!!t.clinicLocation,className:"bg-white",...r("clinicLocation",{required:"Clinic Location is required"})}),(0,y.jsx)(B.Z.Control.Feedback,{type:"invalid",children:null===(l=t.clinicLocation)||void 0===l?void 0:l.message})]}),(0,y.jsx)("div",{className:"d-grid gap-2",children:(0,y.jsx)(K.Z,{variant:"primary",type:"submit",disabled:c.isLoading,children:c.isLoading?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,y.jsx)("span",{className:"ms-2",children:"Loading..."})]}):"Submit"})}),c.error&&(0,y.jsx)(D.Z,{variant:"danger",className:"mt-3",children:c.error})]})})})})};var M=l(1657),R=l(3949),T=l(2899),z=l(6116);const $=Array.from({length:24},((e,a)=>({value:a,label:`${a<10?"0":""}${a}:00:00`})));const H=function(){const{handleSubmit:e,control:a,watch:l,formState:{errors:s}}=(0,w.cI)({defaultValues:{clinic:null,days:[]}}),r=(0,R.I0)(),[n,d]=(0,i.useState)(!1),[o,t]=(0,i.useState)(null),{fields:c,append:u,remove:m}=(0,w.Dq)({control:a,name:"days"}),v=(0,R.v9)((e=>e.profile.profileData.clinics)),h=l("days"),g=l("clinic");return(0,i.useEffect)((()=>{r((0,T.kY)())}),[r]),(0,y.jsxs)("form",{onSubmit:e((async e=>{t(null),d(!0);try{const a={clinicId:e.clinic.id,days:e.days.map((e=>({day:e.day.value,from:e.from.label,to:e.to.label})))};await z.Am.promise((0,I.bA)(a),{pending:"Saving schedule...",success:"Schedule saved successfully!",error:{render(e){var a,l;let{data:i}=e;const s=(null===i||void 0===i||null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||(null===i||void 0===i?void 0:i.message)||"Failed to save schedule";return t(s),s}}})}catch(a){}finally{d(!1)}})),className:"p-4",children:[o&&(0,y.jsx)(D.Z,{variant:"danger",className:"mb-4",children:o}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(w.Qr,{name:"clinic",control:a,rules:{required:"Clinic selection is required"},render:e=>{let{field:a,fieldState:{error:l}}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(G.ZP,{...a,placeholder:"Select Clinic",options:v,isClearable:!0,className:"basic-single",classNamePrefix:"select"}),l&&(0,y.jsx)("span",{className:"text-danger small",children:l.message})]})}})}),(0,y.jsxs)("div",{className:"mb-4",children:[g&&(0,y.jsx)("h5",{className:"mb-1",children:"Working Hours"}),c.map(((e,l)=>{var i,r,n,d,o,t;return(0,y.jsx)("div",{className:"mb-3 p-3 bg-light border rounded",children:(0,y.jsxs)(O.Z,{className:"g-3",children:[(0,y.jsxs)(q.Z,{md:4,children:[(0,y.jsx)(w.Qr,{name:`days.${l}.day`,control:a,rules:{required:"Day is required"},render:e=>{let{field:a}=e;return(0,y.jsx)(G.ZP,{...a,options:F.an,placeholder:"Select Day",isClearable:!0,isOptionDisabled:e=>h.some(((a,i)=>{var s;return i!==l&&(null===a||void 0===a||null===(s=a.day)||void 0===s?void 0:s.value)===e.value}))})}}),(null===(i=s.days)||void 0===i||null===(r=i[l])||void 0===r?void 0:r.day)&&(0,y.jsx)("span",{className:"text-danger small",children:s.days[l].day.message})]}),(0,y.jsxs)(q.Z,{md:3,children:[(0,y.jsx)(w.Qr,{name:`days.${l}.from`,control:a,rules:{required:"Start time is required"},render:e=>{let{field:a}=e;return(0,y.jsx)(G.ZP,{...a,options:$,placeholder:"From",isClearable:!0})}}),(null===(n=s.days)||void 0===n||null===(d=n[l])||void 0===d?void 0:d.from)&&(0,y.jsx)("span",{className:"text-danger small",children:s.days[l].from.message})]}),(0,y.jsxs)(q.Z,{md:3,children:[(0,y.jsx)(w.Qr,{name:`days.${l}.to`,control:a,rules:{required:"End time is required",validate:e=>{var a,i;return e.value>(null===(a=h[l])||void 0===a||null===(i=a.from)||void 0===i?void 0:i.value)||"End time must be after start time"}},render:e=>{let{field:a}=e;return(0,y.jsx)(G.ZP,{...a,options:$,placeholder:"To",isClearable:!0})}}),(null===(o=s.days)||void 0===o||null===(t=o[l])||void 0===t?void 0:t.to)&&(0,y.jsx)("span",{className:"text-danger small",children:s.days[l].to.message})]}),(0,y.jsx)(q.Z,{md:2,children:(0,y.jsx)(K.Z,{variant:"danger",onClick:()=>m(l),className:"w-100",children:(0,y.jsx)(M.ZkW,{})})})]})},e.id)})),g&&(0,y.jsxs)(K.Z,{variant:"outline-primary",className:"d-flex align-items-center gap-2",type:"button",onClick:()=>u({day:null,from:null,to:null}),disabled:c.length>=7,children:[(0,y.jsx)(M.x06,{})," Add Day"]})]}),(0,y.jsx)(K.Z,{type:"submit",variant:"primary",className:"w-100",disabled:n,children:n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,y.jsx)("span",{className:"ms-2",children:"Saving..."})]}):"Save Schedule"})]})};var Q=l(9751);const U=function(){const[e,a]=(0,i.useState)(null),[l,s]=(0,i.useState)(!1),r=(0,R.I0)();return(0,y.jsxs)(B.Z,{onSubmit:async a=>{if(a.preventDefault(),e){if(["image/jpeg","image/png"].includes((l=e).type)?!(l.size>5242880)||(z.Am.error("Image size must be less than 5MB"),0):(z.Am.error("Only JPEG/PNG images are allowed"),0)){var l;s(!0);try{const a=new FormData;a.append("image",e);const l=await z.Am.promise((0,I.JV)(a),{pending:"Uploading image...",success:"Image uploaded successfully!",error:{render(e){var a,l;let{error:i}=e;return(null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Image upload failed"}}});r((0,Q.QL)({url:l}))}catch(i){}finally{s(!1)}}}else z.Am.error("Please select an image")},children:[(0,y.jsxs)(B.Z.Group,{className:"mb-3",children:[(0,y.jsx)(B.Z.Control,{type:"file",onChange:e=>{const l=e.target.files[0];l&&a(l)},accept:"image/jpeg, image/png",disabled:l}),(0,y.jsx)(B.Z.Text,{className:"text-muted",children:"Select a single image (JPEG/PNG, max 5MB)"}),e&&(0,y.jsxs)("div",{className:"mt-2",children:[(0,y.jsx)("h6",{children:"Selected File:"}),(0,y.jsx)("p",{children:e.name})]})]}),(0,y.jsx)("div",{className:"d-grid gap-2",children:(0,y.jsx)(K.Z,{variant:"primary",type:"submit",disabled:l||!e,children:l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,y.jsx)("span",{className:"ms-2",children:"Uploading..."})]}):"Upload Image"})})]})};var V=l(6253);const _=function(){const[e,a]=(0,i.useState)(null),{userType:l}=(0,R.v9)((e=>e.authedUser.user));return(0,i.useEffect)((()=>{document.title="Settings"}),[]),(0,y.jsxs)(s.Z,{className:"py-4",children:[(0,y.jsx)(r.Z,{className:"mb-4 shadow-sm",children:(0,y.jsx)(r.Z.Header,{className:"bg-primary text-white",children:(0,y.jsx)(r.Z.Title,{as:"h3",className:"mb-0",children:"Settings"})})}),(0,y.jsxs)(E,{activeKey:e,onSelect:l=>{a(e===l?null:l)},children:[l===V.PZ&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(E.Item,{eventKey:"clinic",className:"bg-white",children:[(0,y.jsx)(E.Header,{className:"bg-white",children:(0,y.jsx)("span",{className:"d-flex align-items-center gap-2",children:"Add Clinic"})}),(0,y.jsx)(E.Body,{children:(0,y.jsx)(L,{})})]}),(0,y.jsxs)(E.Item,{eventKey:"schedule",className:"bg-white",children:[(0,y.jsx)(E.Header,{children:(0,y.jsx)("span",{className:"d-flex align-items-center gap-2",children:"Create Clinic Schedule"})}),(0,y.jsx)(E.Body,{children:(0,y.jsx)(H,{})})]})]}),(0,y.jsxs)(E.Item,{eventKey:"image",className:"mb-3 bg-white",children:[(0,y.jsx)(E.Header,{children:(0,y.jsx)("span",{className:"d-flex align-items-center gap-2",children:"Upload Profile Images"})}),(0,y.jsx)(E.Body,{children:(0,y.jsx)(U,{})})]})]})]})}},825:(e,a,l)=>{l.d(a,{Z:()=>t});var i=l(5809),s=l.n(i),r=l(8381),n=l(4169),d=l(9343);const o=r.forwardRef(((e,a)=>{let{bsPrefix:l,variant:i,animation:r="border",size:o,as:t="div",className:c,...u}=e;l=(0,n.vE)(l,"spinner");const m=`${l}-${r}`;return(0,d.jsx)(t,{ref:a,...u,className:s()(c,m,o&&`${m}-${o}`,i&&`text-${i}`)})}));o.displayName="Spinner";const t=o}}]);
//# sourceMappingURL=210.42c44849.chunk.js.map